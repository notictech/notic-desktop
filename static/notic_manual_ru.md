Notic. Руководство пользователя
===============================

Автор: Сергей Толоконников
Версия программы: 1.5.2 alpha
Язык: русский

O программе
-----------

Notic (ˊnəυtɪk) (рус. Но́тик) - это персональный менеджер заметок и паролей c
элементами органайзера. Он был разработан на основе тщательного и многолетнего 
осмысления автором его собственного процесса организации и хранения 
заметок. Миссия проекта - предоставить эффективный и простой инструмент хранения 
заметок с фокусом на конфеденциальность и максимально быстрый доступ к данным. 
Notic является свободным программным обеспечением (GNU GPLv3) и абсолютно бесплатен.

Общие положения
---------------

- В Notic данные хранятся на стороне пользователя, в базе данных (файл с расширением
`.ntc`). Пользователь может создавать произвольное количество баз данных
по своему усмотрению. 

- При создании базы данных Notic предлагает 
придумать сложный мастер-пароль, после чего в процессе работы шифрует 
все данные этим паролем по алгоритму **AES-256**. Причем расшифровка данных происходит только на стороне клиента 
(в оперативной памяти), а база данных всегда хранится в зашифрованном виде. В случае, если мастер-пароль не 
задан при создании базы данных - данные не шифруются.

- Для доступа к заметкам необходимо ввести мастер-пароль (начать сеанс), также пользователь 
всегда может сменить пароль при желании или прекратить сеанс, после 
чего доступ к данным прекращается. Оборвать сеанс немедленно позволяет комбинация `Ctrl+R`.

- Доступ к данным не зависит от какого-либо 
центрального сервера или от наличия подключения к сети интернет и 
пользователь сам решает где хранить заметки, будь это жесткий диск, 
флеш-память или папка, синхронизированная с облаком. Так же пользователь сам ответственнен за создание резервных копий 
баз данных.

- Заметки в Notic хранятся в виде простого текста без форматирования 
(plain text), т.к. это наиболее подходящий формат для хранения фрагментов кода, 
конфигурационных файлов и т.п.

Мастер-пароль
-------------

Мастер-пароль - краеугольный камень безопастности в Notic. Если пароль 
окажется достаточно простым - конфиденциальность всех данных будет потеряна. 
Вот общеизвестные рекомендации по составлению надёжных паролей:

- Пароль не должен быть слишком коротким, поскольку это упрощает его взлом 
полным перебором. Наиболее распространенная минимальная длина — 12 и более  
символов. По той же причине он не должен состоять из одних цифр.

- Пароль не должен быть словарным словом или простым их сочетанием, это 
упрощает его подбор по словарю.

- Пароль не должен состоять только из общедоступной информации о пользователе. 
В качестве популярных рекомендаций к составлению пароля можно назвать 
использование сочетания слов с цифрами и специальными символами 
(#, $, * и т. д.), использование малораспространенных или несуществующих слов, 
соблюдение минимальной длины.

Так же рекомендуется использовать для ввода пароля виртуальную клавиатуру 
(например, Florence для linux-систем)

Заметки
-------

Хранение заметок организовано по принципу стека (**лента заметок**), т.е. новые заметки 
кладуться "сверху" на предыдущие. Заметка может имеет следующие 
атрибуты:

- заголовок (title)
- содержимое (content)
- секреты (secrets)
- напоминание (reminder)
- временые метки (created / updated)
- флаг сокрытия содержимого (hide the content)

Заголовок может быть не задан, в этом случае Notic автоматически 
создаёт заголовок вида `#untitled <начало содержимого заметки>`. 
Конструкция `#untitled` - это так называемый **хеш-тег**, он служит 
некой меткой и является простым способом отнести замеку к определённой 
категории. Использование подобных хеш-тегов является хорошей практикой 
в Notic и рекоммендуется к использованию.

Содержимое заметки может быть пропущено при желании.

Временые метки присваиваются автоматически при создании и 
редактировании заметок.

Секреты
-------

Секреты являются некоторыми дополнительными сущностями, заметка может иметь 
сколько угодно секретов или не иметь их. Добавляя к заметке секрет, вы задаёте его заголовок 
(title) и содержимое (content, непосредственно секретная информация). 
Содержимое секрета может быть введено вручную, однако по умолчанию 
сгенерированно автоматически (Notic генерирует строку длиной 128 бит, 
состоящую из цифр и букв латинского алфавита). В стеке заметок секреты 
отображаются в виде кнопок. Название кнопки отображает заголовок секрета, а 
нажатие на кнопку копирует содержимое секрета в буфер обмена.

Таким образом, секреты хорошо подходят для хранения паролей. Это с одной 
стороны защищает пароль от атаки через снимок экрана, с другой стороны, предаставляется 
удобный способ быстро скопировать и ввести пароль. К тому же, есть 
возможность задать в настройках Notic время жизни секрета в буфере обмена, 
что потенциально делает процесс копирования более безопасным.

При создании аккаунтов на каком либо стороннем сервисе или иных учетных записей, 
хорошей практикой является первым делом создать заметку с автоматически 
сгенерированным паролем и далее использовать её. В этом случае вам даже не 
придётся придумывать пароль и он будет гарантированно сложным. 

Напоминания
-----------

Каждой заметке может быть назначено напоминание (**reminder**). 
При создании напоминания выбирается дата и время, также можно указать 
периодичность повтора. Кроме того, можно указать флаг "удалять замтку после 
напоминания"

Окно программы
--------------

Notic работает в одном окне, где различные разделы показываются в 
отдельных экранах (**screens**). При закрытии окна программа сворачивается в трей (чтобы полностью выйти из программы, нажмите `Ctrl+Shift+Q`).
Окно и трей имеют меню, где доступны некоторые основные функции, все пункты 
меню доступны через сочитания клавиш. Имеется возможность менять свойство 
окна Window on top (Окно поверх других окон) с помощью комбинации `Ctrl+W`, 
а также менять цветовую схему (`Ctrl+Shift+W`).

Использование сочитаний клавиш
------------------------------

С Notic можно работать без использования мыши, благодаря сочитаниям клавиш. Их активное использование 
является хорошей практикой и делает работу более эффективной.

Главный экран
-------------

При запуске Notic в первый раз, вам будет предложено придумать пароль. 
Сразу после начала сеанса Notic вы попадаете в главный экран. Здесь есть 
верхняя панель (topbar) с кнопками и поисковыми фильтрами, а также левая панель 
навигации по заметкам (sidebar) и непосредственно лента заметок. В левом 
нижнем углу показывается количество отображаемых заметок (found).

Левая панель показывает заголовки заметок, правая - сами заметки.

Заметки отображаются постранично (30 заметок на странице). Комбинации клавиш:
- Первая страница - `Ctrl+Shift+[`
- Предыдущая страница - `Ctrl+[`
- Следующая страница - `Ctrl+]`
- Последняя страница - `Ctrl+Shift+]`

Верхняя панель содержит следующие кнопки:
- Создать новую заметку* (`Ctrl+Space`)
- Открыть последнюю редактируемую заметку (`Ctrl+E`)
- Сгенерировать QR код из содержимого буфера обмена (см. далее) (`Ctrl+Q`)
- Список уведомлений (сработавшие напоминания, см. далее)
- Режим массового выбора заметок (`Ctrl+M`)
- Фильтр по дате (см. далее) (`Ctrl+D`)

*Примечание: так же можно создать заметку с содержимым из буфера обмена (`Ctrl+Shift+Space`). 
К тому же, эта функция может быть полезна если вызывать её из меню в трее, в случае когда 
вы хотите по-быстрому скопировать что-то, к примеру, из браузера в Notic и продолжить сёрфинг в интернете.

Справа в верхней панели распологается "cердце" программы - поисковая строка (`Ctrl+F`) и фильтры поиска. 
Поиск работает по каждому введенному слову, разделенному пробелом, без учета регистра, так что 
каждое слово уточняет запрос. Кроме того, если вы забыли переключить раскладку 
клавиатуры, поиск будет произведён также по словам переведенным в вашу 
локальную раскладку из латинской. Пустой запрос покажет все заметки.

Строка поиска так же позволяет вызвать **апплеты**,
путем введения специальных команд, начинающихся с символа `/`.
Апплет - это мини-программа, виджет, который отображается под верхней панелью и 
позволяет решать разнообразные задачи. (см. `Приложение A` в конце руководства)  

Справа от строки поиска расположены фильтры:
- искать среди всех заметок (кроме корзины) (`Ctrl+1`)
- искать среди заметок с секретами (`Ctrl+2`)
- искать среди избранных заметок (`Ctrl+3`)
- искать среди напоминаний (`Ctrl+4`)
- искать в корзине (среди удалённых заметок) (`Ctrl+5`)

Фильтр даты во включенном состоянии позволяет уточнить дату, критерий и предлог.
Когда поле даты в фокусе можно задавать дату клавишами `Up`, `Down`, `Left`, `Right`, а также 
менять критерии и предлоги клавишами `U`, `C`, `A`, `B`:
###Пример 1: 
Найти найти только заметки, созданные в определённый день.
Итоговая комбинация: `Ctrl-D` -> `C` -> `A` -> выбрать день
Т.е. включить фильтр даты, выбрать критерий created ("создан"), выбрать предлог at ("в") и выбрать дату.
###Пример 2: 
Найти найти только заметки, изменённые в период между датами.
Итоговая комбинация: `Ctrl-D` -> `U` -> `B` -> выбрать дни
Т.е. включить фильтр даты, выбрать критерий updated ("изменён"), выбрать предлог between ("между") и выбрать даты.

Все фильтры (включая фильтр по дате) накладываются друг на друга. Чтобы отключить все фильтры, 
нажмите `Esc`.

Далее - кнопки перехода вперёд и назад по истории. История (`history`) - очень важный и удобный механизм в Notic. При 
ключевых событиях (создании / редактировании заметки или при клике по ней), 
заметка добавляется в стек истории. Кроме того, в историю записывается 
состояние всех фильтров в этот момент, а также содержимое поисковой строки. 
Таким образом, история содержит слепки состояний Notic и позволяет быстро 
переходить между заметками с которыми вы работали ранее. Переход по истории 
осуществляется сочитаниями `Ctrl+Left` и `Ctrl+Right`. В настройках Notic можно 
задать размер стека истории (по умолчанию - 50 записей).

Ещё один ключевой момент - **активная заметка**. При переходе по списку найденых 
заметок (сочитания `Ctrl+Up`, `Ctrl+Down`), очередная заметка становится активной. 
Тоже самое происходит при клике по заметке в левой панели или в ленте. 
Активная заметка подсвечивается голубой полосой слева и лента всегда прокручивается таким образом, 
чтобы активная заметка, по возможности, **была сверху**. Таким образом, сразу 
после поиска, вы можете комбинацией `Ctrl+Left` пробежать по списку и не отрывая 
глаз от верхней части ленты найти нужную заметку из списка. 

Вхождения искомых слов подсвечиваются в заметках желтым цветом, и вы можете по ним 
перемещаться (`Ctrl+Shift+Down`, `Ctrl+Shift+Up`). Текущий фрагмент будет подсвечен красным.

Далее, для того 
чтобы открыть меню действий над активной заметкой (к примеру, редактирование) 
достаточно нажать `Ctrl+Enter` и пробел (`Space`), после чего выбрать нужный пункт и нажать `Enter`. 

Непостредственно для редактирования заметки, комбинация будет такой: 
`Ctrl+Enter` и три раза `Enter`.

Кроме того, после нажатия `Ctrl+Enter` доступны "магичиские" действия над заметкой:
- клавиша `E` - редактировать заметку
- клавиша `R` - редактировать напоминание
- клавиша `S` - пометить заметку как "избранное" / снять пометку
- клавиша `C` - перейти в режим выделения текста заметки без мыши (клавиша Shift+`Left`/`Right`/`Down`/`Up`/`Home`/`End`)
- клавиша `Shift+C` - клонировать заметку
- клавиша `D` - удалить заметку

Также меню действий можно вызвать правым кликом мыши по заметке. В дополнение, 
к редактированию можно перейти кликом колеса мыши.

Чтобы нажать кнопку "Добавить в избранное" (Mark as favorite), кнопку 
напоминания или какого либо секрета, можно, наведя фокус на меню заметки 
(`Ctrl+Enter`), переместиться к нужной кнпке используя `Tab` и `Shift+Tab` 
(для обратного обхода). Само собой, клавишами `Tab` и `Shift+Tab` можно 
перемещаться на всех экранах в Notic.

В Notic есть возможность выделить одну или несколько заметок для какого либо 
действия (режим **Mass select**). Для его активации/деактивации используется 
сочитание `Ctrl+M`. Для выбора действия к выделенным заметкам нужно нажать 
появившуюся рядом кнопку, когда **Mass select** включен. В этом режиме можно также работать без мыши:
- `Ctrl+.` - выделить заметку / снять выделение.
- `Ctrl+Shift+.` - выделить все заметки / снять выделение.

В Notic существует возможность сгенерировать QR-код из содержимого буфера 
обмена, для этого воспользуйтесь кнопкой **QR from clipboard** (`Ctrl+Q`). Данная 
функция может быть полезна, например, для передачи данных на смартфон.

Для копирования / вставки текста заметок удобнее всего использовать стандартные сочитания 
`Ctrl+C` и `Ctrl+V`

Экран редактора заметок
-----------------------

Когда на главном экране вы выбираете создать заметку или открывете заметку на редактирование, 
вы попадаете в редактор заметок.

Редактор состоит из трёх вкладок:
### Вкладка 1. Редактор (`Ctrl+1`)
Здесь вы задаёте название заметки и содержимое.
Комбинацией `Ctrl+H` можно управлять флагом "Hide the content" 
(Скрывать содержимое). В таком состоянии на ленте заметок сожержимое будет убрано 
под кнопку "Показать содержимое". Это удобно, если вы хотите сохранить очень большую заметку и не 
хотите чтобы она занимала место.

В редакторе содержимого доступны **специальные вставки**:
- Вставить разделительную черту - `Ctrl+-`
- Вставить двойную разделительную черту - `Ctrl+=`
- Вставить текущую дату и время - `Ctrl+T`
- Сгенерировать и вставить пароль - `Ctrl+P`

Само собой, здесь работают стандартные сочитания:
- Копировать текст (`Ctrl+C`)
- Вставить текст (`Ctrl+V`)
- Выделить всё (`Ctrl+A`)
- Отменить (`Ctrl+Z`)
- Вернуть (`Ctrl+Shift+Z`)
и нестандартые:
- Дублировать строку (`Ctrl+D`)

В редакторе также работает переход по истории (`Ctrl+Left`, `Ctrl+Right`) и переход по 
списку заметок (`Ctrl+Up`, `Ctrl+Down`), однако предварительно нужно сохранить 
текущие изменения (`Ctrl+Shift+S`).

Чтобы сохранить изменения во всех трёх вкладках и вернуться к ленте заметок - нажмите `Ctrl+S`
Чтобы сохранить изменения и продолжить редактирование - `Ctrl+Shift+S`
Чтобы просто вернуться к ленте заметок  - `Esc`

### Вкладка 2. Секреты (`Ctrl+2`)

Здесь вы можете создавать, изменять и удалять **Сектреты** данной заметки.
Новые секреты добавляются кнопкой **Add**. По умолчанию, секретам присваивается имя `password<номер>`.
Есть возможность сгенерировать секрет автоматически, скрыть или показать сожержимое. Чтобы задать секрет вручную, 
необходимо ввести его и повторить ввод во второе поле.

### Вкладка 3. Напоминание (`Ctrl+3`)

Здесь вы можите задать напоминание для этой заметки. Флаг **Enabled** включает или выключает напоминание. Для 
напоминаний необходимо указать дату, время и периодизацию напоминания ("один раз", "каждую минуту", "каждый час" и т.д.)
Когда напоминание сработает, оно отобразится в виде pop-up оповещения и сохраниться в разделе Notifications ("Оповещения")
Перейти к редактированию напоминания можно также из ленты заметок и из радела "Оповещения". Напоминания 
не срабатывают для заметок находящихся в корзине.

Экран Notifications ("Оповещения") (`Ctrl+N`)
---------------------------------------------

Здесь показывается стек полученных напоминаний. Вы можете удалить напоминания, пометить их как прочитанные (чтобы 
иконка в трее и кнопка Notifications не сигнализировали красным о непрочитанных оповещениях) или отредактировать 
напоминание (например включить повторно, отключить или изменить дату/время).

Экран Settings ("Настройки") (`F2`)
-----------------------------------

Здесь можно задать некоторые настройки Notic, а так же задать текущую базу данных. 
Настройки хранятся в файле settings, который создаётся директории приложения Nitic. 
Для текущей версии Notic доступны следующие настройки:
- Database location (выбор или создание базу данных)
- Alternative keyboard layout (альтернативная раскладка клавиатуры). Грубо говоря - здесь речь идет о языке, который 
доступен на клавиатуре помимо английского (альтернативная раскладка). Эта опция используется для поиска в 
альтернативной раскладке, в случае если пользователь перепутал раскладку при вводе поискового запроса.
- History max length (максимальная длина истории).
- Automatically logout after... (Автоматически обрывать сеанс после N минут простоя. Значение '0' отключает опцию.)
- Automatically logout after... (Стирать буфер обмена по истечении N секунд после копирования секрета. Значение '0' отключает опцию.)
- Animation speed (Скорость анимации, значение '0' отключает анимацию.)

Change master password ("Изменить мастер-пароль") (`F3`)
--------------------------------------------------------

Здесь можно изменить мастер-пароль для текущей базы или отказаться от шифрования (оставить пароль пустым).

Импорт и экспорт заметок
------------------------

Notic имеет возможность импорта/экспорта заметок для передачи другим базам данных. 
Экспортируемые заметки могут быть зашифрованы паролем по алгоритму **AES-256**, в таком случае их можно передавать 
другим пользователям по незащищенным каналам, но пользователи должны предварительно договориться насчёт пароля.
Для экпорта данных нужно включить режим "массового выбора заметок" (`Ctrl+M`) и далее выбрать **Export**.
В появившемся окне предлагается ввести пароль (или оставить пустым, если шифровать не нужно) и в следующем 
окне появляется шифр и кнопка "скопировать в буфер обмена". Теперь этот шифр может быть передан адресату любым способом.

Чтобы импортировать полученные заметки, необходимо перейти на экран Import notes (`F4`), ввести полученный шифр и пароль. 
После нажатия кнопки **Import**, новые заметки окажутся сверху ленты заметок.

Экран About ("О программе") (`F1`)
-----------------------------------
Здесь содержится информация о программе.

Приложение A. Апплеты
---------------------

В данной версии Notic доступны следующие апплеты:

- `/hash` - вычисление хешей
- `/tz` - конвертор тайм-зон
